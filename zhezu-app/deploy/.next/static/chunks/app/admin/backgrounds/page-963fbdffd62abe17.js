(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3980],{3617:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(54917);let r=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:n="",children:o,iconNode:c,...d},u)=>(0,a.createElement)("svg",{ref:u,...i,width:t,height:t,stroke:e,strokeWidth:l?24*Number(s)/Number(t):s,className:r("lucide",n),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(d)&&{"aria-hidden":"true"},...d},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]])),o=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...i},o)=>(0,a.createElement)(n,{ref:o,iconNode:t,className:r(`lucide-${l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...i}));return s.displayName=l(e),s}},10487:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(90401),r=s(54917),l=s(56427),i=s(65158),n=s(30892);let o=(0,s(3617).A)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),c={university:"Университет",life:"Студенческая жизнь",academics:"Академические программы",contact:"Контакты",research:"Наука и исследования",admission:"Поступление",aiCenter:"AI-Центр",career:"Карьера"},d=Object.keys(c);function u(){let[e,t]=(0,r.useState)(null),[s,u]=(0,r.useState)(null),[h,m]=(0,r.useState)(!0),[x,b]=(0,r.useState)(!1),[p,f]=(0,r.useState)(!1);async function g(){if(e){b(!0),f(!1);try{(await fetch("/api/admin/section-backgrounds",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&(f(!0),u(JSON.parse(JSON.stringify(e))),setTimeout(()=>f(!1),2e3))}finally{b(!1)}}}return((0,r.useEffect)(()=>{let e=new AbortController;return fetch("/api/admin/section-backgrounds",{signal:e.signal}).then(e=>e.ok?e.json():null).then(e=>{t(e),u(e?JSON.parse(JSON.stringify(e)):null)}).catch(()=>{}).finally(()=>m(!1)),()=>e.abort()},[]),h||!e)?(0,a.jsx)("div",{className:"flex items-center justify-center py-32",children:(0,a.jsx)(l.A,{size:24,className:"animate-spin text-blue-500"})}):(0,a.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-slate-900 dark:text-white",children:"Фоны разделов"}),(0,a.jsx)("p",{className:"text-sm text-slate-500",children:"Укажите URL фонового изображения для каждого раздела сайта"})]}),(0,a.jsxs)("button",{type:"button",onClick:g,disabled:x,className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-blue-700 disabled:opacity-50",children:[x?(0,a.jsx)(l.A,{size:14,className:"animate-spin"}):(0,a.jsx)(i.A,{size:14}),p?"Сохранено!":"Сохранить"]})]}),(0,a.jsx)("div",{className:"space-y-4",children:d.map(r=>{let l=e.backgrounds[r]??"";return(0,a.jsxs)("section",{className:"overflow-hidden rounded-xl border border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900",children:[(0,a.jsx)("div",{className:"relative h-36 bg-slate-100 dark:bg-slate-800",children:l?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:l,alt:c[r],className:"h-full w-full object-cover",onError:e=>{e.target.style.display="none"}}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 to-black/60"}),(0,a.jsx)("span",{className:"absolute bottom-3 left-4 text-sm font-bold text-white drop-shadow",children:c[r]})]}):(0,a.jsxs)("div",{className:"flex h-full flex-col items-center justify-center gap-2 text-slate-400",children:[(0,a.jsx)(n.A,{size:32}),(0,a.jsx)("span",{className:"text-sm font-medium",children:c[r]}),(0,a.jsx)("span",{className:"text-xs",children:"Нет изображения"})]})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-4",children:[(0,a.jsx)("input",{type:"url",value:l,onChange:s=>{var a;return a=s.target.value,void(e&&t({...e,backgrounds:{...e.backgrounds,[r]:a}}))},placeholder:"https://images.unsplash.com/photo-...",className:"flex-1 rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none dark:border-slate-700 dark:bg-slate-800 dark:text-white"}),(0,a.jsx)("button",{type:"button",onClick:()=>{e&&s&&t({...e,backgrounds:{...e.backgrounds,[r]:s.backgrounds[r]??""}})},title:"Сбросить",className:"rounded-lg border border-slate-200 p-2.5 text-slate-400 transition-colors hover:text-slate-600 dark:border-slate-700 dark:hover:text-white",children:(0,a.jsx)(o,{size:14})})]})]},r)})})]})}},26072:(e,t,s)=>{Promise.resolve().then(s.bind(s,10487))},30892:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},56427:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},65158:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])}},e=>{e.O(0,[9675,5334,7358],()=>e(e.s=26072)),_N_E=e.O()}]);