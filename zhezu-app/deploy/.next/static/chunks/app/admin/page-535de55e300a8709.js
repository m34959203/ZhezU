(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3698],{3617:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var a=s(54917);let r=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:n="",children:d,iconNode:c,...h},o)=>(0,a.createElement)("svg",{ref:o,...i,width:t,height:t,stroke:e,strokeWidth:l?24*Number(s)/Number(t):s,className:r("lucide",n),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(h)&&{"aria-hidden":"true"},...h},[...c.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(d)?d:[d]])),d=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...i},d)=>(0,a.createElement)(n,{ref:d,iconNode:t,className:r(`lucide-${l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...i}));return s.displayName=l(e),s}},21066:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var a=s(90401),r=s(54917),l=s(35386),i=s.n(l),n=s(32454),d=s(35764),c=s(98216),h=s(30828),o=s(45447),m=s(63123),x=s(68591),p=s(27404);function u(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)(null),[u,b]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=new AbortController;return Promise.all([fetch("/api/admin/news",{signal:e.signal}).then(e=>e.json()).then(e=>{Array.isArray(e)&&t(e)}).catch(()=>{}),fetch("/api/admin/university",{signal:e.signal}).then(e=>e.json()).then(e=>{e&&!e.error&&l(e)}).catch(()=>{})]).finally(()=>b(!1)),()=>e.abort()},[]);let g=e.filter(e=>e.published).length,f=s?.stats?.students??0,v=s?.stats?.programs??0,y=s?.departments?.length??0,j=[{label:"Публикации",value:String(e.length),change:`${g} опубликовано`,icon:(0,a.jsx)(n.A,{size:20}),color:"bg-blue-500/10 text-blue-500",href:"/admin/news"},{label:"Языков",value:"3",change:"kk / ru / en",icon:(0,a.jsx)(d.A,{size:20}),color:"bg-emerald-500/10 text-emerald-500",href:"/admin/settings"},{label:"Университет",value:f>0?String(f):y>0?String(y):"—",change:f>0?`${v} программ`:y>0?"кафедр":"Заполните данные",icon:(0,a.jsx)(c.A,{size:20}),color:"bg-purple-500/10 text-purple-500",href:"/admin/university"},{label:"Посещений",value:"—",change:"Скоро",icon:(0,a.jsx)(h.A,{size:20}),color:"bg-amber-500/10 text-amber-500",href:"/admin"}],k={news:"Новость",announcement:"Объявление",event:"Событие",achievement:"Достижение"},w={news:"bg-blue-500/10 text-blue-400",announcement:"bg-amber-500/10 text-amber-400",event:"bg-emerald-500/10 text-emerald-400",achievement:"bg-purple-500/10 text-purple-400"};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Добро пожаловать"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Управление порталом Жезказганского университета"})]}),(0,a.jsxs)(i(),{href:"/admin/news?action=new",className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-semibold text-white transition-colors hover:bg-blue-700",children:[(0,a.jsx)(o.A,{size:16}),"Новая публикация"]})]}),(0,a.jsx)("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:j.map(e=>(0,a.jsxs)(i(),{href:e.href,className:"group rounded-xl border border-slate-200 bg-white p-5 transition-all hover:shadow-md dark:border-slate-800 dark:bg-slate-900 dark:hover:border-slate-700",children:[(0,a.jsxs)("div",{className:"mb-3 flex items-center justify-between",children:[(0,a.jsx)("div",{className:`rounded-lg p-2.5 ${e.color}`,children:e.icon}),(0,a.jsx)(m.A,{size:14,className:"text-slate-300 transition-transform group-hover:translate-x-1 dark:text-slate-600"})]}),(0,a.jsx)("p",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:e.value}),(0,a.jsx)("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:e.label}),e.change&&(0,a.jsx)("p",{className:"mt-1 text-xs text-slate-400 dark:text-slate-500",children:e.change})]},e.label))}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white dark:border-slate-800 dark:bg-slate-900",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between border-b border-slate-200 px-6 py-4 dark:border-slate-800",children:[(0,a.jsx)("h3",{className:"font-bold text-slate-900 dark:text-white",children:"Последние публикации"}),(0,a.jsxs)(i(),{href:"/admin/news",className:"flex items-center gap-1 text-sm text-blue-500 hover:text-blue-600",children:["Все ",(0,a.jsx)(m.A,{size:12})]})]}),u?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)("div",{className:"h-6 w-6 animate-spin rounded-full border-2 border-blue-500 border-t-transparent"})}):0===e.length?(0,a.jsx)("div",{className:"py-12 text-center text-sm text-slate-400",children:"Нет публикаций. Создайте первую!"}):(0,a.jsx)("div",{className:"divide-y divide-slate-100 dark:divide-slate-800",children:e.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between px-6 py-4",children:[(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"truncate text-sm font-medium text-slate-900 dark:text-white",children:e.title.ru}),e.pinned&&(0,a.jsx)("span",{className:"shrink-0 rounded bg-amber-100 px-1.5 py-0.5 text-[10px] font-bold text-amber-600 dark:bg-amber-900/30 dark:text-amber-400",children:"PIN"})]}),(0,a.jsxs)("div",{className:"mt-1 flex items-center gap-3 text-xs text-slate-400",children:[(0,a.jsx)("span",{className:`rounded px-1.5 py-0.5 text-[10px] font-semibold ${w[e.category]}`,children:k[e.category]}),(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{size:10}),new Date(e.createdAt).toLocaleDateString("ru-RU")]}),(0,a.jsx)("span",{children:e.author})]})]}),(0,a.jsxs)("div",{className:"ml-4 flex items-center gap-2",children:[(0,a.jsx)("span",{className:`h-2 w-2 rounded-full ${e.published?"bg-green-500":"bg-slate-300 dark:bg-slate-600"}`}),(0,a.jsx)(i(),{href:`/admin/news/${e.id}`,className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-slate-100 hover:text-blue-500 dark:hover:bg-slate-800",children:(0,a.jsx)(p.A,{size:14})})]})]},e.id))})]}),(0,a.jsx)("div",{className:"grid gap-4 sm:grid-cols-3",children:[{title:"Управление новостями",desc:"Создание, редактирование и публикация новостей",href:"/admin/news",color:"from-blue-500 to-blue-700"},{title:"Данные университета",desc:"Статистика, кафедры, программы обучения",href:"/admin/university",color:"from-emerald-500 to-emerald-700"},{title:"Настройки сайта",desc:"Контакты, соцсети, режим обслуживания",href:"/admin/settings",color:"from-purple-500 to-purple-700"}].map(e=>(0,a.jsxs)(i(),{href:e.href,className:"group relative overflow-hidden rounded-xl p-6 text-white",children:[(0,a.jsx)("div",{className:`absolute inset-0 bg-gradient-to-br ${e.color} transition-transform group-hover:scale-105`}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("h4",{className:"mb-1 font-bold",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-white/70",children:e.desc})]})]},e.title))})]})}},27404:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},30828:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]])},32454:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]])},33980:(e,t,s)=>{Promise.resolve().then(s.bind(s,21066))},35764:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},45447:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},63123:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("arrow-right",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},68591:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},98216:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]])}},e=>{e.O(0,[5386,9675,5334,7358],()=>e(e.s=33980)),_N_E=e.O()}]);