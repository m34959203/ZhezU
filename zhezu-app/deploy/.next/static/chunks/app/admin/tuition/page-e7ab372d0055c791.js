(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8661],{3617:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(54917);let r=(...e)=>e.filter((e,t,s)=>!!e&&""!==e.trim()&&s.indexOf(e)===t).join(" ").trim(),l=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let i=(0,a.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:l,className:i="",children:o,iconNode:n,...c},x)=>(0,a.createElement)("svg",{ref:x,...d,width:t,height:t,stroke:e,strokeWidth:l?24*Number(s)/Number(t):s,className:r("lucide",i),...!o&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(c)&&{"aria-hidden":"true"},...c},[...n.map(([e,t])=>(0,a.createElement)(e,t)),...Array.isArray(o)?o:[o]])),o=(e,t)=>{let s=(0,a.forwardRef)(({className:s,...d},o)=>(0,a.createElement)(i,{ref:o,iconNode:t,className:r(`lucide-${l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,s),...d}));return s.displayName=l(e),s}},6320:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},26175:(e,t,s)=>{Promise.resolve().then(s.bind(s,37253))},37253:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>b});var a=s(90401),r=s(54917),l=s(56427),d=s(65158),i=s(62017),o=s(6320),n=s(59274),c=s(45447),x=s(75544);let h={programs:[],dormitoryCost:18e4,scholarships:{gpa35:15e4,gpa30:9e4,gpa25:3e4}},m=[{code:"ru",label:"RU"},{code:"kk",label:"KK"},{code:"en",label:"EN"}];function b(){let[e,t]=(0,r.useState)(h),[s,b]=(0,r.useState)(!0),[p,u]=(0,r.useState)(!1),[g,k]=(0,r.useState)(!1),[v,j]=(0,r.useState)("ru"),N=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/admin/tuition");if(e.ok){let s=await e.json();t({...h,...s})}}finally{b(!1)}},[]);async function y(){u(!0);try{(await fetch("/api/admin/tuition",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok&&(k(!0),setTimeout(()=>k(!1),2e3))}finally{u(!1)}}function w(e,s){t(t=>{let a=[...t.programs];return a[e]={...a[e],...s},{...t,programs:a}})}return((0,r.useEffect)(()=>{N()},[N]),s)?(0,a.jsx)("div",{className:"flex h-64 items-center justify-center",children:(0,a.jsx)(l.A,{className:"h-8 w-8 animate-spin text-blue-500"})}):(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-slate-900 dark:text-white",children:"Стоимость обучения"}),(0,a.jsx)("p",{className:"mt-1 text-sm text-slate-500 dark:text-slate-400",children:"Управление стоимостью обучения по направлениям"})]}),(0,a.jsxs)("button",{onClick:y,disabled:p,className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2.5 text-sm font-medium text-white transition-colors hover:bg-blue-700 disabled:opacity-50",children:[p?(0,a.jsx)(l.A,{size:16,className:"animate-spin"}):(0,a.jsx)(d.A,{size:16}),g?"Сохранено!":"Сохранить"]})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,a.jsx)(i.A,{size:18,className:"text-blue-500"}),(0,a.jsx)("h2",{className:"font-semibold text-slate-900 dark:text-white",children:"Общежитие"})]}),(0,a.jsx)("label",{className:"mb-1 block text-sm text-slate-500 dark:text-slate-400",children:"Стоимость проживания в год (₸)"}),(0,a.jsx)("input",{type:"number",value:e.dormitoryCost,onChange:s=>t({...e,dormitoryCost:Number(s.target.value)}),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-white"}),(0,a.jsx)("p",{className:"mt-1 text-xs text-slate-400",children:e.dormitoryCost.toLocaleString("ru-KZ")+" ₸"})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center gap-2",children:[(0,a.jsx)(o.A,{size:18,className:"text-green-500"}),(0,a.jsx)("h2",{className:"font-semibold text-slate-900 dark:text-white",children:"Скидки за успеваемость"})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-sm text-slate-500 dark:text-slate-400",children:"GPA 3.5+ (₸/год)"}),(0,a.jsx)("input",{type:"number",value:e.scholarships.gpa35,onChange:s=>t({...e,scholarships:{...e.scholarships,gpa35:Number(s.target.value)}}),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-sm text-slate-500 dark:text-slate-400",children:"GPA 3.0 – 3.4 (₸/год)"}),(0,a.jsx)("input",{type:"number",value:e.scholarships.gpa30,onChange:s=>t({...e,scholarships:{...e.scholarships,gpa30:Number(s.target.value)}}),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-white"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"mb-1 block text-sm text-slate-500 dark:text-slate-400",children:"GPA 2.5 – 2.9 (₸/год)"}),(0,a.jsx)("input",{type:"number",value:e.scholarships.gpa25,onChange:s=>t({...e,scholarships:{...e.scholarships,gpa25:Number(s.target.value)}}),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-white"})]})]})]})]}),(0,a.jsxs)("div",{className:"rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[(0,a.jsxs)("div",{className:"mb-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.A,{size:18,className:"text-blue-500"}),(0,a.jsxs)("h2",{className:"font-semibold text-slate-900 dark:text-white",children:["Направления (",e.programs.length,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"flex rounded-lg border border-slate-200 dark:border-slate-700",children:m.map(e=>(0,a.jsx)("button",{onClick:()=>j(e.code),className:`px-3 py-1 text-xs font-medium transition-colors ${v===e.code?"bg-blue-600 text-white":"text-slate-500 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white"} ${"ru"===e.code?"rounded-l-lg":"en"===e.code?"rounded-r-lg":""}`,children:e.label},e.code))}),(0,a.jsxs)("button",{onClick:function(){t(e=>({...e,programs:[...e.programs,{id:crypto.randomUUID(),name:{kk:"",ru:"",en:""},level:"bachelor",costResident:6e5,costInternational:8e5,isFree:!1}]}))},className:"flex items-center gap-1 rounded-lg bg-blue-600 px-3 py-1.5 text-xs font-medium text-white hover:bg-blue-700",children:[(0,a.jsx)(c.A,{size:14}),"Добавить"]})]})]}),0===e.programs.length?(0,a.jsx)("div",{className:"py-12 text-center text-sm text-slate-400",children:"Нет направлений. Нажмите \xabДобавить\xbb чтобы создать."}):(0,a.jsx)("div",{className:"space-y-3",children:e.programs.map((e,s)=>(0,a.jsxs)("div",{className:"rounded-lg border border-slate-100 bg-slate-50 p-4 dark:border-slate-800 dark:bg-slate-800/50",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-12",children:[(0,a.jsxs)("div",{className:"sm:col-span-4",children:[(0,a.jsxs)("label",{className:"mb-1 block text-xs text-slate-400",children:["Название (",v.toUpperCase(),")"]}),(0,a.jsx)("input",{type:"text",value:e.name[v],onChange:e=>{var a;return a=e.target.value,void t(e=>{let t=[...e.programs];return t[s]={...t[s],name:{...t[s].name,[v]:a}},{...e,programs:t}})},placeholder:"Название направления",className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-white"})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)("label",{className:"mb-1 block text-xs text-slate-400",children:"Уровень"}),(0,a.jsxs)("select",{value:e.level,onChange:e=>w(s,{level:e.target.value}),className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:[(0,a.jsx)("option",{value:"bachelor",children:"Бакалавриат"}),(0,a.jsx)("option",{value:"master",children:"Магистратура"})]})]}),(0,a.jsx)("div",{className:"flex items-end sm:col-span-1",children:(0,a.jsxs)("label",{className:"flex cursor-pointer items-center gap-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.isFree,onChange:e=>w(s,{isFree:e.target.checked}),className:"rounded text-blue-600"}),(0,a.jsx)("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:"Грант"})]})}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)("label",{className:"mb-1 block text-xs text-slate-400",children:"Резидент (₸)"}),(0,a.jsx)("input",{type:"number",value:e.costResident,onChange:e=>w(s,{costResident:Number(e.target.value)}),disabled:e.isFree,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm disabled:opacity-40 dark:border-slate-700 dark:bg-slate-800 dark:text-white"})]}),(0,a.jsxs)("div",{className:"sm:col-span-2",children:[(0,a.jsx)("label",{className:"mb-1 block text-xs text-slate-400",children:"Иностранный (₸)"}),(0,a.jsx)("input",{type:"number",value:e.costInternational,onChange:e=>w(s,{costInternational:Number(e.target.value)}),disabled:e.isFree,className:"w-full rounded-lg border border-slate-200 bg-white px-3 py-2 text-sm disabled:opacity-40 dark:border-slate-700 dark:bg-slate-800 dark:text-white"})]}),(0,a.jsx)("div",{className:"flex items-end sm:col-span-1",children:(0,a.jsx)("button",{onClick:()=>{t(e=>({...e,programs:e.programs.filter((e,t)=>t!==s)}))},className:"rounded-lg p-2 text-slate-400 transition-colors hover:bg-red-50 hover:text-red-500 dark:hover:bg-red-500/10",title:"Удалить",children:(0,a.jsx)(x.A,{size:16})})})]}),e.isFree&&(0,a.jsx)("div",{className:"mt-2 rounded bg-green-50 px-3 py-1.5 text-xs font-medium text-green-700 dark:bg-green-500/10 dark:text-green-400",children:"Бесплатное обучение (грант / бюджетное место)"})]},e.id))})]})]})}},45447:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},56427:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},59274:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("graduation-cap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]])},62017:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]])},65158:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},75544:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(3617).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])}},e=>{e.O(0,[9675,5334,7358],()=>e(e.s=26175)),_N_E=e.O()}]);