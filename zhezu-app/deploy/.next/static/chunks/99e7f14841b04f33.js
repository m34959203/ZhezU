(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,21779,e=>{"use strict";let t=(0,e.i(67784).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],21779)},26358,e=>{"use strict";let t=(0,e.i(67784).default)("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],26358)},4532,e=>{"use strict";let t=(0,e.i(67784).default)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]]);e.s(["Sparkles",()=>t],4532)},94810,e=>{"use strict";let t=(0,e.i(67784).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],94810)},47405,e=>{"use strict";let t=(0,e.i(67784).default)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);e.s(["EyeOff",()=>t],47405)},84580,e=>{"use strict";let t=(0,e.i(67784).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],84580)},55838,e=>{"use strict";let t=(0,e.i(67784).default)("save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>t],55838)},95644,e=>{"use strict";let t=(0,e.i(67784).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["Trash2",()=>t],95644)},55995,e=>{"use strict";let t=(0,e.i(67784).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],55995)},25194,e=>{"use strict";let t=(0,e.i(67784).default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);e.s(["Upload",()=>t],25194)},72315,e=>{"use strict";let t=(0,e.i(67784).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);e.s(["ChevronUp",()=>t],72315)},98952,e=>{"use strict";let t=(0,e.i(67784).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>t],98952)},34429,e=>{"use strict";let t=(0,e.i(67784).default)("pin",[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]]);e.s(["Pin",()=>t],34429)},51439,e=>{"use strict";let t=(0,e.i(67784).default)("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);e.s(["Camera",()=>t],51439)},70021,9853,e=>{"use strict";var t=e.i(67784);let a=(0,t.default)("languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);e.s(["Languages",()=>a],70021);let s=(0,t.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>s],9853)},2764,e=>{"use strict";var t=e.i(38122),a=e.i(36624),s=e.i(48596),l=e.i(55838),r=e.i(67784);let d=(0,r.default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);var i=e.i(84580),n=e.i(94810),o=e.i(47405),c=e.i(34429),u=e.i(95644),p=e.i(70021),x=e.i(4532),b=e.i(26358),m=e.i(51439),h=e.i(55995),g=e.i(21779),k=e.i(72315),f=e.i(9853),y=e.i(98952);let j=(0,r.default)("info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);var v=e.i(25194),N=e.i(75157);let w=(0,a.lazy)(()=>e.A(42334)),C=(0,a.lazy)(()=>e.A(86457)),z=[{value:"news",label:"Новость"},{value:"announcement",label:"Объявление"},{value:"event",label:"Событие"},{value:"achievement",label:"Достижение"},{value:"university",label:"Университет"},{value:"science",label:"Наука"},{value:"students",label:"Студенты"},{value:"sport",label:"Спорт"},{value:"culture",label:"Культура"}],S=[{code:"ru",label:"RU"},{code:"kk",label:"KK"},{code:"en",label:"EN"}],T={kk:"Казахский",ru:"Русский",en:"Английский"},M={kk:"",ru:"",en:""};function P(){let{id:e}=(0,s.useParams)(),r=(0,s.useRouter)(),P="new"===e,[$,L]=(0,a.useState)({slug:"",title:{...M},excerpt:{...M},body:{...M},category:"news",image:"",published:!0,pinned:!1,author:"Администратор"}),[A,E]=(0,a.useState)("ru"),[O,U]=(0,a.useState)(!P),[I,R]=(0,a.useState)(!P),[H,V]=(0,a.useState)(!1),[B,J]=(0,a.useState)(!1),[q,K]=(0,a.useState)(!1),[D,G]=(0,a.useState)(null),[X,_]=(0,a.useState)(!1),[W,F]=(0,a.useState)(!1),[Q,Y]=(0,a.useState)(null),[Z,ee]=(0,a.useState)(!1),[et,ea]=(0,a.useState)(!1),[es,el]=(0,a.useState)(!1),[er,ed]=(0,a.useState)(null),[ei,en]=(0,a.useState)(null),[eo,ec]=(0,a.useState)(null),[eu,ep]=(0,a.useState)({});function ex(e,t){L(a=>{let s={...a,[e]:{...a[e],[A]:t}};return"title"!==e||O||(s.slug=(0,N.slugify)(t)),s})}async function eb(){V(!0),J(!1);try{let t=P?"/api/admin/news":`/api/admin/news/${e}`,a=P?"POST":"PUT",s=await fetch(t,{method:a,headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(s.ok){let e=await s.json();if(J(!0),P&&r.replace(`/admin/news/${e.id}`),e.autoPublishResult){let t=[];e.autoPublishResult.telegram?.ok&&t.push("Telegram"),e.autoPublishResult.instagram?.ok&&t.push("Instagram"),t.length>0&&(ed(`Автопубликация: ${t.join(", ")}`),ep(t=>({...t,...e.autoPublishResult.telegram?.ok?{telegram:!0}:{},...e.autoPublishResult.instagram?.ok?{instagram:!0}:{}})),setTimeout(()=>ed(null),5e3))}e.socialPublished&&ep(e.socialPublished),setTimeout(()=>J(!1),2e3)}}finally{V(!1)}}async function em(){confirm("Удалить публикацию?")&&(await fetch(`/api/admin/news/${e}`,{method:"DELETE"}),r.push("/admin/news"))}(0,a.useEffect)(()=>{if(P)return;let t=new AbortController;return fetch(`/api/admin/news/${e}`,{signal:t.signal}).then(e=>e.ok?e.json():null).then(e=>{e&&(L(e),e.socialPublished&&ep(e.socialPublished))}).catch(()=>{}).finally(()=>R(!1)),()=>t.abort()},[e,P]),(0,a.useEffect)(()=>{fetch("/api/admin/social/telegram").then(e=>e.ok?e.json():null).then(e=>{e&&en(e.configured)}).catch(()=>{}),fetch("/api/admin/social/instagram").then(e=>e.ok?e.json():null).then(e=>{e&&ec(e.configured)}).catch(()=>{})},[]);let eh=(0,a.useCallback)(async e=>{_(!1),K(!0),G(e);try{let t=await fetch("/api/admin/ai/translate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:$.title[A],excerpt:$.excerpt[A],body:$.body[A],sourceLang:A,targetLang:e})});if(!t.ok){let e=await t.json();alert(`Ошибка перевода: ${e.error}`);return}let a=await t.json();L(t=>({...t,title:{...t.title,[e]:a.title},excerpt:{...t.excerpt,[e]:a.excerpt},body:{...t.body,[e]:a.body}}))}catch{alert("Не удалось выполнить перевод")}finally{K(!1),G(null)}},[A,$]),eg=(0,a.useCallback)(async()=>{F(!0),ee(!0),Y(null);try{let e=await fetch("/api/admin/ai/analyze",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:$.title[A],excerpt:$.excerpt[A],body:$.body[A],category:$.category})});if(!e.ok){let t=await e.json();alert(`Ошибка анализа: ${t.error}`),ee(!1);return}let t=await e.json();Y(t)}catch{alert("Не удалось выполнить анализ"),ee(!1)}finally{F(!1)}},[A,$]),ek=(0,a.useCallback)(async()=>{if(confirm("Опубликовать в Telegram-канал?")){ea(!0),ed(null);try{let t=await fetch("/api/admin/social/telegram",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articleId:e,lang:"ru"})}),a=await t.json();t.ok?(ed("Опубликовано в Telegram!"),setTimeout(()=>ed(null),3e3)):ed(`Ошибка: ${a.error}`)}catch{ed("Ошибка подключения")}finally{ea(!1)}}},[e]),ef=(0,a.useCallback)(async()=>{if(confirm("Опубликовать в Instagram?")){el(!0),ed(null);try{let t=await fetch("/api/admin/social/instagram",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({articleId:e,lang:"ru"})}),a=await t.json();t.ok?(ed("Опубликовано в Instagram!"),setTimeout(()=>ed(null),3e3)):ed(`Ошибка: ${a.error}`)}catch{ed("Ошибка подключения")}finally{el(!1)}}},[e]),[ey,ej]=(0,a.useState)(!1);function ev(e,t){L(a=>({...a,[e]:{...a[e],[A]:t}}))}if(I)return(0,t.jsx)("div",{className:"flex items-center justify-center py-32",children:(0,t.jsx)(i.Loader2,{size:24,className:"animate-spin text-blue-500"})});let eN=S.filter(e=>e.code!==A),ew=$.title[A].length>0||$.body[A].length>0;return(0,t.jsxs)("div",{className:"mx-auto max-w-4xl space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>r.push("/admin/news"),className:"flex items-center gap-2 text-sm text-slate-500 transition-colors hover:text-slate-900 dark:hover:text-white",children:[(0,t.jsx)(d,{size:16}),"Назад к списку"]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[!P&&(0,t.jsxs)("button",{type:"button",onClick:em,className:"flex items-center gap-1.5 rounded-lg border border-red-200 px-3 py-2 text-sm text-red-500 transition-colors hover:bg-red-50 dark:border-red-500/20 dark:hover:bg-red-500/10",children:[(0,t.jsx)(u.Trash2,{size:14}),"Удалить"]}),(0,t.jsxs)("button",{type:"button",onClick:eb,disabled:H,className:"flex items-center gap-2 rounded-lg bg-blue-600 px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-blue-700 disabled:opacity-50",children:[H?(0,t.jsx)(i.Loader2,{size:14,className:"animate-spin"}):(0,t.jsx)(l.Save,{size:14}),B?"Сохранено!":"Сохранить"]})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 rounded-xl border border-purple-200 bg-purple-50/50 p-3 dark:border-purple-500/20 dark:bg-purple-500/5",children:[(0,t.jsxs)("span",{className:"mr-1 flex items-center gap-1.5 text-xs font-semibold text-purple-600 uppercase dark:text-purple-400",children:[(0,t.jsx)(x.Sparkles,{size:14}),"AI"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>_(!X),disabled:q||!ew,className:"flex items-center gap-1.5 rounded-lg border border-purple-200 bg-white px-3 py-1.5 text-xs font-medium text-purple-700 transition-colors hover:bg-purple-50 disabled:opacity-50 dark:border-purple-500/30 dark:bg-slate-800 dark:text-purple-300 dark:hover:bg-slate-700",children:[q?(0,t.jsx)(i.Loader2,{size:12,className:"animate-spin"}):(0,t.jsx)(p.Languages,{size:12}),q?`${T[A]} -> ${D?T[D]:"..."}...`:`Перевести с ${A.toUpperCase()}`,!q&&(X?(0,t.jsx)(k.ChevronUp,{size:10}):(0,t.jsx)(g.ChevronDown,{size:10}))]}),X&&(0,t.jsxs)("div",{className:"absolute top-full left-0 z-10 mt-1 rounded-lg border border-slate-200 bg-white py-1 shadow-lg dark:border-slate-700 dark:bg-slate-800",children:[eN.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>eh(e.code),className:"flex w-full items-center gap-2 px-4 py-2 text-left text-xs hover:bg-purple-50 dark:hover:bg-slate-700",children:[(0,t.jsx)(p.Languages,{size:12,className:"text-purple-500"}),(0,t.jsxs)("span",{children:[A.toUpperCase()," -> ",e.label," (",T[e.code],")"]})]},e.code)),(0,t.jsx)("div",{className:"my-1 border-t border-slate-100 dark:border-slate-700"}),(0,t.jsxs)("button",{type:"button",onClick:async()=>{for(let e of eN)await eh(e.code)},className:"flex w-full items-center gap-2 px-4 py-2 text-left text-xs font-medium text-purple-600 hover:bg-purple-50 dark:text-purple-400 dark:hover:bg-slate-700",children:[(0,t.jsx)(p.Languages,{size:12}),"Перевести на все языки"]})]})]}),(0,t.jsxs)("button",{type:"button",onClick:eg,disabled:W||!ew,className:"flex items-center gap-1.5 rounded-lg border border-purple-200 bg-white px-3 py-1.5 text-xs font-medium text-purple-700 transition-colors hover:bg-purple-50 disabled:opacity-50 dark:border-purple-500/30 dark:bg-slate-800 dark:text-purple-300 dark:hover:bg-slate-700",children:[W?(0,t.jsx)(i.Loader2,{size:12,className:"animate-spin"}):(0,t.jsx)(x.Sparkles,{size:12}),W?"Анализ...":"AI-анализ"]}),!P&&ei&&(0,t.jsxs)("button",{type:"button",onClick:ek,disabled:et,className:"flex items-center gap-1.5 rounded-lg border border-blue-200 bg-white px-3 py-1.5 text-xs font-medium text-blue-700 transition-colors hover:bg-blue-50 disabled:opacity-50 dark:border-blue-500/30 dark:bg-slate-800 dark:text-blue-300 dark:hover:bg-slate-700",children:[et?(0,t.jsx)(i.Loader2,{size:12,className:"animate-spin"}):(0,t.jsx)(b.Send,{size:12}),et?"Отправка...":"Telegram"]}),!P&&eo&&(0,t.jsxs)("button",{type:"button",onClick:ef,disabled:es,className:"flex items-center gap-1.5 rounded-lg border border-pink-200 bg-white px-3 py-1.5 text-xs font-medium text-pink-700 transition-colors hover:bg-pink-50 disabled:opacity-50 dark:border-pink-500/30 dark:bg-slate-800 dark:text-pink-300 dark:hover:bg-slate-700",children:[es?(0,t.jsx)(i.Loader2,{size:12,className:"animate-spin"}):(0,t.jsx)(m.Camera,{size:12}),es?"Отправка...":"Instagram"]}),er&&(0,t.jsx)("span",{className:`text-xs font-medium ${er.startsWith("Ошибка")?"text-red-500":"text-green-500"}`,children:er}),!P&&(eu.telegram||eu.instagram)&&(0,t.jsxs)("div",{className:"ml-auto flex items-center gap-1.5",children:[(0,t.jsx)("span",{className:"text-[10px] text-slate-400 uppercase",children:"Опубликовано:"}),eu.telegram&&(0,t.jsxs)("span",{className:"flex items-center gap-1 rounded-full bg-blue-100 px-2 py-0.5 text-[10px] font-medium text-blue-600 dark:bg-blue-500/20 dark:text-blue-400",children:[(0,t.jsx)(b.Send,{size:8}),"TG"]}),eu.instagram&&(0,t.jsxs)("span",{className:"flex items-center gap-1 rounded-full bg-pink-100 px-2 py-0.5 text-[10px] font-medium text-pink-600 dark:bg-pink-500/20 dark:text-pink-400",children:[(0,t.jsx)(m.Camera,{size:8}),"IG"]})]})]}),Z&&(0,t.jsxs)("div",{className:"rounded-xl border border-purple-200 bg-white dark:border-purple-500/20 dark:bg-slate-900",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between border-b border-purple-100 px-4 py-3 dark:border-purple-500/10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(x.Sparkles,{size:16,className:"text-purple-500"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-slate-800 dark:text-white",children:"AI-редактор"}),Q&&(0,t.jsxs)("span",{className:`rounded-full px-2.5 py-0.5 text-xs font-bold ${Q.score>=80?"bg-green-100 text-green-700 dark:bg-green-500/20 dark:text-green-400":Q.score>=50?"bg-amber-100 text-amber-700 dark:bg-amber-500/20 dark:text-amber-400":"bg-red-100 text-red-700 dark:bg-red-500/20 dark:text-red-400"}`,children:[Q.score,"/100"]})]}),(0,t.jsx)("button",{type:"button",onClick:()=>ee(!1),className:"text-slate-400 hover:text-slate-600 dark:hover:text-white",children:(0,t.jsx)(h.X,{size:16})})]}),(0,t.jsx)("div",{className:"p-4",children:W?(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 py-8",children:[(0,t.jsx)(i.Loader2,{size:20,className:"animate-spin text-purple-500"}),(0,t.jsx)("span",{className:"text-sm text-slate-500",children:"Анализируем статью..."})]}):Q?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:Q.summary}),Q.strengths.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"mb-1.5 flex items-center gap-1 text-xs font-semibold text-green-600 uppercase dark:text-green-400",children:[(0,t.jsx)(f.Check,{size:12}),"Сильные стороны"]}),(0,t.jsx)("ul",{className:"space-y-1",children:Q.strengths.map((e,a)=>(0,t.jsx)("li",{className:"text-xs text-slate-600 dark:text-slate-400",children:e},a))})]}),Q.suggestions.length>0&&(0,t.jsxs)("div",{children:[(0,t.jsxs)("h4",{className:"mb-1.5 flex items-center gap-1 text-xs font-semibold text-amber-600 uppercase dark:text-amber-400",children:[(0,t.jsx)(y.AlertTriangle,{size:12}),"Рекомендации"]}),(0,t.jsx)("ul",{className:"space-y-2",children:Q.suggestions.map((e,a)=>(0,t.jsxs)("li",{className:"flex items-start gap-2 text-xs",children:[(0,t.jsx)("span",{className:`mt-0.5 inline-block h-2 w-2 shrink-0 rounded-full ${"high"===e.severity?"bg-red-500":"medium"===e.severity?"bg-amber-500":"bg-blue-500"}`}),(0,t.jsxs)("span",{className:"text-slate-600 dark:text-slate-400",children:[(0,t.jsxs)("span",{className:"font-medium text-slate-800 dark:text-slate-200",children:["title"===e.field?"Заголовок":"excerpt"===e.field?"Описание":"Текст",":"]})," ",e.text]})]},a))})]}),(Q.improvedTitle||Q.improvedExcerpt||Q.improvedBody)&&(0,t.jsxs)("div",{className:"border-t border-slate-100 pt-3 dark:border-slate-800",children:[(0,t.jsxs)("h4",{className:"mb-2 flex items-center gap-1 text-xs font-semibold text-purple-600 uppercase dark:text-purple-400",children:[(0,t.jsx)(j,{size:12}),"Предложенные улучшения"]}),Q.improvedTitle&&(0,t.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"flex-1 rounded border border-slate-100 bg-slate-50 px-3 py-1.5 text-xs dark:border-slate-700 dark:bg-slate-800",children:Q.improvedTitle}),(0,t.jsx)("button",{type:"button",onClick:()=>ev("title",Q.improvedTitle),className:"shrink-0 rounded bg-purple-600 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-purple-700",children:"Заголовок"})]}),Q.improvedExcerpt&&(0,t.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,t.jsx)("span",{className:"flex-1 rounded border border-slate-100 bg-slate-50 px-3 py-1.5 text-xs dark:border-slate-700 dark:bg-slate-800",children:Q.improvedExcerpt}),(0,t.jsx)("button",{type:"button",onClick:()=>ev("excerpt",Q.improvedExcerpt),className:"shrink-0 rounded bg-purple-600 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-purple-700",children:"Описание"})]}),Q.improvedBody&&(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)("span",{className:"flex-1 rounded border border-slate-100 bg-slate-50 px-3 py-1.5 text-xs leading-relaxed dark:border-slate-700 dark:bg-slate-800",children:(0,t.jsx)("span",{dangerouslySetInnerHTML:{__html:Q.improvedBody}})}),(0,t.jsx)("button",{type:"button",onClick:()=>ev("body",Q.improvedBody),className:"shrink-0 rounded bg-purple-600 px-2.5 py-1.5 text-xs font-medium text-white hover:bg-purple-700",children:"Текст"})]})]})]}):null})]}),(0,t.jsxs)("div",{className:"space-y-6 rounded-xl border border-slate-200 bg-white p-6 dark:border-slate-800 dark:bg-slate-900",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 border-b border-slate-200 pb-4 dark:border-slate-700",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-slate-400 uppercase",children:"Язык контента:"}),(0,t.jsx)("div",{className:"flex gap-1",children:S.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>E(e.code),className:`rounded-md px-3 py-1.5 text-xs font-bold transition-colors ${A===e.code?"bg-blue-600 text-white":"text-slate-400 hover:bg-slate-100 hover:text-slate-600 dark:hover:bg-slate-800"}`,children:e.label},e.code))})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300",children:["Заголовок (",A.toUpperCase(),")"]}),(0,t.jsx)("input",{type:"text",value:$.title[A],onChange:e=>ex("title",e.target.value),placeholder:"Введите заголовок...",className:"w-full rounded-lg border border-slate-200 bg-white px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none dark:border-slate-700 dark:bg-slate-800 dark:text-white"})]}),(0,t.jsxs)("div",{className:"grid gap-4 sm:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"mb-1.5 flex items-center justify-between text-sm font-medium text-slate-700 dark:text-slate-300",children:[(0,t.jsx)("span",{children:"Slug (URL)"}),O&&(0,t.jsx)("button",{type:"button",onClick:()=>{U(!1),L(e=>({...e,slug:(0,N.slugify)(e.title[A])}))},className:"text-xs font-normal text-blue-500 hover:text-blue-700",children:"Сгенерировать из заголовка"})]}),(0,t.jsx)("div",{className:"relative",children:(0,t.jsx)("input",{type:"text",value:$.slug,onChange:e=>{U(!0),L(t=>({...t,slug:e.target.value}))},placeholder:"auto-generated-slug",className:"w-full rounded-lg border border-slate-200 bg-white px-4 py-2.5 font-mono text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none dark:border-slate-700 dark:bg-slate-800 dark:text-white"})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Категория"}),(0,t.jsx)("select",{value:$.category,onChange:e=>L(t=>({...t,category:e.target.value})),className:"w-full rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none dark:border-slate-700 dark:bg-slate-800 dark:text-white",children:z.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300",children:["Краткое описание (",A.toUpperCase(),")"]}),(0,t.jsx)("textarea",{value:$.excerpt[A],onChange:e=>ex("excerpt",e.target.value),rows:2,placeholder:"Краткое описание для карточки и превью...",className:"w-full resize-none rounded-lg border border-slate-200 bg-white px-4 py-3 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none dark:border-slate-700 dark:bg-slate-800 dark:text-white"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300",children:["Текст публикации (",A.toUpperCase(),")"]}),(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"flex h-[300px] items-center justify-center rounded-lg border border-slate-200 dark:border-slate-700",children:(0,t.jsx)(i.Loader2,{size:20,className:"animate-spin text-slate-400"})}),children:(0,t.jsx)(w,{value:$.body[A],onChange:e=>ex("body",e),placeholder:"Начните писать текст публикации..."})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Обложка"}),$.image?(0,t.jsxs)("div",{className:"group relative inline-block",children:[(0,t.jsx)("img",{src:$.image,alt:"Обложка",className:"h-40 max-w-full rounded-lg border border-slate-200 object-cover dark:border-slate-700"}),(0,t.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center gap-2 rounded-lg bg-black/0 opacity-0 transition-all group-hover:bg-black/40 group-hover:opacity-100",children:[(0,t.jsx)("button",{type:"button",onClick:()=>ej(!0),className:"rounded-lg bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow hover:bg-white",children:"Заменить"}),(0,t.jsx)("button",{type:"button",onClick:()=>L(e=>({...e,image:""})),className:"rounded-lg bg-red-500/90 px-3 py-1.5 text-xs font-medium text-white shadow hover:bg-red-600",children:"Удалить"})]})]}):(0,t.jsxs)("button",{type:"button",onClick:()=>ej(!0),className:"flex items-center gap-2 rounded-lg border-2 border-dashed border-slate-300 px-6 py-4 text-sm text-slate-500 transition-colors hover:border-blue-400 hover:text-blue-600 dark:border-slate-600 dark:text-slate-400 dark:hover:border-blue-500 dark:hover:text-blue-400",children:[(0,t.jsx)(v.Upload,{size:18}),"Загрузить обложку"]}),(0,t.jsx)(a.Suspense,{fallback:null,children:(0,t.jsx)(C,{open:ey,onClose:()=>ej(!1),onInsert:e=>L(t=>({...t,image:e}))})})]}),(0,t.jsxs)("div",{className:"max-w-sm",children:[(0,t.jsx)("label",{className:"mb-1.5 block text-sm font-medium text-slate-700 dark:text-slate-300",children:"Автор"}),(0,t.jsx)("input",{type:"text",value:$.author,onChange:e=>L(t=>({...t,author:e.target.value})),className:"w-full rounded-lg border border-slate-200 bg-white px-4 py-2.5 text-sm focus:border-blue-500 focus:ring-2 focus:ring-blue-500/20 focus:outline-none dark:border-slate-700 dark:bg-slate-800 dark:text-white"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-6 border-t border-slate-200 pt-4 dark:border-slate-700",children:[(0,t.jsxs)("button",{type:"button",onClick:()=>L(e=>({...e,published:!e.published})),className:`flex items-center gap-2 rounded-lg border px-4 py-2 text-sm font-medium transition-colors ${$.published?"border-green-200 bg-green-50 text-green-600 dark:border-green-500/20 dark:bg-green-500/10 dark:text-green-400":"border-slate-200 text-slate-500 hover:border-green-300 dark:border-slate-700"}`,children:[$.published?(0,t.jsx)(n.Eye,{size:14}):(0,t.jsx)(o.EyeOff,{size:14}),$.published?"Опубликовано":"Черновик"]}),(0,t.jsxs)("button",{type:"button",onClick:()=>L(e=>({...e,pinned:!e.pinned})),className:`flex items-center gap-2 rounded-lg border px-4 py-2 text-sm font-medium transition-colors ${$.pinned?"border-amber-200 bg-amber-50 text-amber-600 dark:border-amber-500/20 dark:bg-amber-500/10 dark:text-amber-400":"border-slate-200 text-slate-500 hover:border-amber-300 dark:border-slate-700"}`,children:[(0,t.jsx)(c.Pin,{size:14}),$.pinned?"Закреплено":"Закрепить"]})]})]})]})}e.s(["default",()=>P],2764)},42334,e=>{e.v(t=>Promise.all(["static/chunks/f58be663fadf3b8b.js","static/chunks/d68c8938031aad59.js"].map(t=>e.l(t))).then(()=>t(69222)))},86457,e=>{e.v(t=>Promise.all(["static/chunks/c3e9d5680d1a61d8.js"].map(t=>e.l(t))).then(()=>t(84694)))}]);